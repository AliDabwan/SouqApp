{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learn\\\\react\\\\SouqApp\\\\spa\\\\src\\\\app\\\\layout\\\\ProtectedRout.tsx\",\n    _s = $RefreshSig$();\n\nimport { toast } from \"react-toastify\";\nimport { useAppSelector } from \"../store/configureStore\";\nimport { Navigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProtectedRout(_ref) {\n  _s();\n\n  let {\n    children,\n    roles\n  } = _ref;\n  const {\n    user\n  } = useAppSelector(state => state.account); // const {basket}=useAppSelector(state=>state.basket);\n\n  const location = useLocation();\n  if (!user) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"../login\",\n    state: {\n      from: location\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 21\n  }, this);\n\n  if (roles && !roles.some(r => {\n    var _user$roles;\n\n    return (_user$roles = user.roles) === null || _user$roles === void 0 ? void 0 : _user$roles.includes(r);\n  })) {\n    toast.error('Do not authorized to Access Inventory !', {\n      toastId: 'err1'\n    });\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"../\",\n      state: {\n        from: location\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 16\n    }, this);\n  } // if(!basket||basket.items.length===0)return <Navigate to=\"../login\" />\n\n\n  return children;\n}\n\n_s(ProtectedRout, \"1L/ssE5qsUO3Jw8BnNxh9uVyMiE=\", false, function () {\n  return [useAppSelector, useLocation];\n});\n\n_c = ProtectedRout;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRout\");","map":{"version":3,"sources":["D:/Learn/react/SouqApp/spa/src/app/layout/ProtectedRout.tsx"],"names":["toast","useAppSelector","Navigate","useLocation","ProtectedRout","children","roles","user","state","account","location","from","some","r","includes","error","toastId"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;;AAMA,eAAe,SAASC,aAAT,OAA+C;AAAA;;AAAA,MAAxB;AAACC,IAAAA,QAAD;AAAUC,IAAAA;AAAV,GAAwB;AAC1D,QAAM;AAACC,IAAAA;AAAD,MAAON,cAAc,CAACO,KAAK,IAAEA,KAAK,CAACC,OAAd,CAA3B,CAD0D,CAE1D;;AAEA,QAAMC,QAAQ,GAACP,WAAW,EAA1B;AACA,MAAG,CAACI,IAAJ,EAAS,oBAAO,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC,UAAb;AAAwB,IAAA,KAAK,EAAE;AAACI,MAAAA,IAAI,EAACD;AAAN;AAA/B;AAAA;AAAA;AAAA;AAAA,UAAP;;AACT,MAAGJ,KAAK,IAAE,CAACA,KAAK,CAACM,IAAN,CAAWC,CAAC;AAAA;;AAAA,0BAAEN,IAAI,CAACD,KAAP,gDAAE,YAAYQ,QAAZ,CAAqBD,CAArB,CAAF;AAAA,GAAZ,CAAX,EAAkD;AAC9Cb,IAAAA,KAAK,CAACe,KAAN,CAAY,yCAAZ,EAAsD;AAACC,MAAAA,OAAO,EAAC;AAAT,KAAtD;AACA,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC,KAAb;AAAmB,MAAA,KAAK,EAAE;AAACL,QAAAA,IAAI,EAACD;AAAN;AAA1B;AAAA;AAAA;AAAA;AAAA,YAAP;AAEH,GAVyD,CAY1D;;;AAEA,SAAOL,QAAP;AAEH;;GAhBuBD,a;UACPH,c,EAGEE,W;;;KAJKC,a","sourcesContent":["import { toast } from \"react-toastify\";\r\nimport { useAppSelector } from \"../store/configureStore\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\ntype Props={\r\n\r\n    children : JSX.Element,\r\n    roles?:string[]\r\n}\r\nexport default function ProtectedRout({children,roles}:Props) {\r\n    const {user}=useAppSelector(state=>state.account);\r\n    // const {basket}=useAppSelector(state=>state.basket);\r\n\r\n    const location=useLocation();\r\n    if(!user)return <Navigate to=\"../login\" state={{from:location}}/>\r\n    if(roles&&!roles.some(r=>user.roles?.includes(r))){\r\n        toast.error('Do not authorized to Access Inventory !',{toastId:'err1'})\r\n        return <Navigate to=\"../\" state={{from:location}}/>\r\n\r\n    }\r\n\r\n    // if(!basket||basket.items.length===0)return <Navigate to=\"../login\" />\r\n    \r\n    return children;\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}