{"ast":null,"code":"import{toast}from\"react-toastify\";import{useAppSelector}from\"../store/configureStore\";import{Navigate,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ProtectedRout(_ref){var children=_ref.children,roles=_ref.roles;var _useAppSelector=useAppSelector(function(state){return state.account;}),user=_useAppSelector.user;// const {basket}=useAppSelector(state=>state.basket);\nvar location=useLocation();if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"../login\",state:{from:location}});if(roles&&!roles.some(function(r){var _user$roles;return(_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.includes(r);})){toast.error('Do not authorized to Access Inventory !',{toastId:'err1'});return/*#__PURE__*/_jsx(Navigate,{to:\"../\",state:{from:location}});}// if(!basket||basket.items.length===0)return <Navigate to=\"../login\" />\nreturn children;}","map":{"version":3,"sources":["D:/Learn/react/SouqApp/SPA/src/app/layout/ProtectedRout.tsx"],"names":["toast","useAppSelector","Navigate","useLocation","ProtectedRout","children","roles","state","account","user","location","from","some","r","includes","error","toastId"],"mappings":"AAAA,OAASA,KAAT,KAAsB,gBAAtB,CACA,OAASC,cAAT,KAA+B,yBAA/B,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,C,2CAMA,cAAe,SAASC,CAAAA,aAAT,MAA+C,IAAvBC,CAAAA,QAAuB,MAAvBA,QAAuB,CAAdC,KAAc,MAAdA,KAAc,CAC1D,oBAAaL,cAAc,CAAC,SAAAM,KAAK,QAAEA,CAAAA,KAAK,CAACC,OAAR,EAAN,CAA3B,CAAOC,IAAP,iBAAOA,IAAP,CACA;AAEA,GAAMC,CAAAA,QAAQ,CAACP,WAAW,EAA1B,CACA,GAAG,CAACM,IAAJ,CAAS,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,UAAb,CAAwB,KAAK,CAAE,CAACE,IAAI,CAACD,QAAN,CAA/B,EAAP,CACT,GAAGJ,KAAK,EAAE,CAACA,KAAK,CAACM,IAAN,CAAW,SAAAC,CAAC,qCAAEJ,IAAI,CAACH,KAAP,sCAAE,YAAYQ,QAAZ,CAAqBD,CAArB,CAAF,EAAZ,CAAX,CAAkD,CAC9Cb,KAAK,CAACe,KAAN,CAAY,yCAAZ,CAAsD,CAACC,OAAO,CAAC,MAAT,CAAtD,EACA,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,KAAb,CAAmB,KAAK,CAAE,CAACL,IAAI,CAACD,QAAN,CAA1B,EAAP,CAEH,CAED;AAEA,MAAOL,CAAAA,QAAP,CAEH","sourcesContent":["import { toast } from \"react-toastify\";\r\nimport { useAppSelector } from \"../store/configureStore\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\ntype Props={\r\n\r\n    children : JSX.Element,\r\n    roles?:string[]\r\n}\r\nexport default function ProtectedRout({children,roles}:Props) {\r\n    const {user}=useAppSelector(state=>state.account);\r\n    // const {basket}=useAppSelector(state=>state.basket);\r\n\r\n    const location=useLocation();\r\n    if(!user)return <Navigate to=\"../login\" state={{from:location}}/>\r\n    if(roles&&!roles.some(r=>user.roles?.includes(r))){\r\n        toast.error('Do not authorized to Access Inventory !',{toastId:'err1'})\r\n        return <Navigate to=\"../\" state={{from:location}}/>\r\n\r\n    }\r\n\r\n    // if(!basket||basket.items.length===0)return <Navigate to=\"../login\" />\r\n    \r\n    return children;\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}