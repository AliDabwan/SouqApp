{"ast":null,"code":"import _slicedToArray from\"D:/Learn/react/SouqApp/spa/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{TableContainer,Paper,Table,TableHead,TableRow,TableCell,TableBody,Button}from\"@mui/material\";import{useEffect,useState}from\"react\";import agent from\"../../app/api/agent\";import Loader from\"../../app/layout/Loader\";import OrderDetails from\"./OrderDetails\";import{DoneAll}from\"@mui/icons-material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Orders(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),selectedOrderNumber=_useState6[0],setSelectedOrderNumber=_useState6[1];useEffect(function(){agent.Orders.list().then(function(orders){return setOrders(orders);}).catch(function(error){return console.log(error);}).finally(function(){return setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(Loader,{message:\"Loading order...\"});if(selectedOrderNumber>0)return/*#__PURE__*/_jsx(OrderDetails,{order:orders===null||orders===void 0?void 0:orders.find(function(o){return o.id===selectedOrderNumber;}),setSelectedOrder:setSelectedOrderNumber});return/*#__PURE__*/_jsx(TableContainer,{sx:{mt:10},component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Order Date\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Total\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Order Status\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Details\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:orders.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.id}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.orderDate.split('T')[0]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.total}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.orderStatus===\"PaymentReceived\"?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",size:\"small\",endIcon:/*#__PURE__*/_jsx(DoneAll,{}),children:row.orderStatus}):row.orderStatus}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setSelectedOrderNumber(row.id);},children:\"View\"})})]},row.id);})})]})});}","map":{"version":3,"sources":["D:/Learn/react/SouqApp/spa/src/features/orders/Orders.tsx"],"names":["TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","Button","useEffect","useState","agent","Loader","OrderDetails","DoneAll","Orders","orders","setOrders","loading","setLoading","selectedOrderNumber","setSelectedOrderNumber","list","then","catch","error","console","log","finally","find","o","id","mt","minWidth","map","row","border","orderDate","split","total","orderStatus"],"mappings":"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","sourcesContent":["import { TableContainer, Paper, Table, TableHead, TableRow, TableCell, TableBody, Button } from \"@mui/material\";\r\nimport { Order } from \"../../app/models/order\";\r\nimport { useEffect, useState } from \"react\";\r\nimport agent from \"../../app/api/agent\";\r\nimport Loader from \"../../app/layout/Loader\";\r\nimport OrderDetails from \"./OrderDetails\";\r\nimport { DoneAll } from \"@mui/icons-material\";\r\n\r\nexport default function Orders() {\r\n\r\n    const [orders, setOrders] = useState<Order[]|null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [selectedOrderNumber, setSelectedOrderNumber] = useState(0);\r\n\r\n    useEffect(() => {\r\n     \r\n         agent.Orders.list()\r\n        .then(orders=>setOrders(orders))\r\n        .catch(error=>console.log(error))\r\n        .finally(()=>setLoading(false))\r\n    }, [])\r\n\r\n    if(loading)return <Loader message=\"Loading order...\"/>\r\n    if(selectedOrderNumber>0)return (\r\n        <OrderDetails order={orders?.find(o=>o.id===selectedOrderNumber)!} setSelectedOrder={setSelectedOrderNumber} />\r\n    )\r\n\r\n  return ( \r\n    <TableContainer sx={{mt:10}} component={Paper}>\r\n    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell>#</TableCell>\r\n          <TableCell align=\"center\">Order Date</TableCell>\r\n          <TableCell align=\"center\">Total</TableCell>\r\n          <TableCell align=\"center\">Order Status</TableCell>\r\n          <TableCell align=\"center\">Details</TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {orders!.map((row) => (\r\n          <TableRow\r\n            key={row.id}\r\n            sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n          >\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              {row.id}\r\n            </TableCell>\r\n            <TableCell align=\"center\">{row.orderDate.split('T')[0]}</TableCell>\r\n            <TableCell align=\"center\">{row.total}</TableCell>\r\n            <TableCell align=\"center\">\r\n              {row.orderStatus===\"PaymentReceived\"?\r\n              (<Button variant=\"contained\" color=\"success\" size=\"small\" endIcon={<DoneAll/>} >{row.orderStatus}</Button>)\r\n              :\r\n              (row.orderStatus)\r\n              \r\n              }\r\n            \r\n            </TableCell>\r\n            <TableCell align=\"center\">\r\n                <Button onClick={()=>setSelectedOrderNumber(row.id)}>\r\n                    View\r\n                </Button>\r\n\r\n\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </Table>\r\n  </TableContainer>  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}