{"ast":null,"code":"import{Grid,Button}from'@mui/material';import BasketSummary from'./BasketSummary';import{Link,Navigate}from'react-router-dom';import{useAppSelector}from'../../app/store/configureStore';import BasketTable from'./BasketTable';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function BasketPage(){// const [loading, setLoading] = useState(true);\n// const [basket, setBasket] = useState<Basket|null>(null);\n//  useEffect(() => {\n//   agent.Basket.get().then(basket=>setBasket(basket))\n//   .catch(error=>console.log(error))\n//   .finally(()=>setLoading(false))\n// }, [])\n// if(loading)return<Loader message=\"Loading basket....!!!\" />\n// const {basket,setBasket,removeItem}=useSouqContext();\nvar _useAppSelector=useAppSelector(function(state){return state.basket;}),basket=_useAppSelector.basket;// redux\n//NEW TYPES FOR VARIABLES IMPORTANT ***ALI_23_04_15\n// const [status, setStatus] = useState({\n//   loading:false,\n//   name:''\n// });\n//   const handleAddItemusingContext=(productId:number,name:string)=>{\n//     setStatus({loading:true,name:name});\n//     agent.Basket.addItem(productId).then(basket=>dispatch( setBasket(basket)))\n//     .catch(error=>console.log(error))\n//     .finally(()=>setStatus({loading:false,name:''}));\n// }\n// const handleRemoveItemusingContext=(productId:number,quantity=1,name:string)=>{\n//   setStatus({loading:true,name:name});\n//   agent.Basket.deleteItem(productId,quantity)\n//   .then(()=>dispatch( removeItem({productId,quantity})))\n//   .catch(error=>console.log(error))\n//   .finally(()=>setStatus({loading:false,name:''}));\n// }\n//   const handleAddItem=(productId:number)=>{\n//     dispatch( addBasketItemAsync({productId:productId}))\n// }\n//   const handleRemoveItem=(productId:number,quantity=1,name:string)=>{\n//     dispatch( removeBasketItemAsync({productId:productId,quantity:quantity,name}))\n//   }\nif(!basket||basket.items.length===0)return/*#__PURE__*/_jsx(Navigate,{to:\"../\"});// <Typography sx={{mt:10}} variant=\"h3\" color=\"initial\"> Basket is empty</Typography>\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BasketTable,{items:basket.items}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,sx:{mt:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(BasketSummary,{}),/*#__PURE__*/_jsx(Button,{component:Link,to:'../checkout',variant:\"contained\",size:\"large\",fullWidth:true,children:\"Check Out\"})]})]})]});}","map":{"version":3,"sources":["D:/Learn/react/SouqApp/spa/src/features/basket/BasketPage.tsx"],"names":["Grid","Button","BasketSummary","Link","Navigate","useAppSelector","BasketTable","BasketPage","state","basket","items","length","mt"],"mappings":"AAAA,OAASA,IAAT,CAAeC,MAAf,KAA6B,eAA7B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,cAAT,KAA+B,gCAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,6IAEA,cAAe,SAASC,CAAAA,UAAT,EAAsB,CAEjC;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEE;AAEA,oBAAeF,cAAc,CAAC,SAAAG,KAAK,QAAEA,CAAAA,KAAK,CAACC,MAAR,EAAN,CAA7B,CAAOA,MAAP,iBAAOA,MAAP,CAAoD;AAGpD;AACA;AACA;AACA;AAEA;AAGF;AACA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGF;AAEA;AAIA;AACA;AACA;AAEA;AAGE,GAAG,CAACA,MAAD,EAAWA,MAAM,CAACC,KAAP,CAAaC,MAAb,GAAsB,CAApC,CACA,mBAAQ,KAAC,QAAD,EAAU,EAAE,CAAC,KAAb,EAAR,CACA;AAGF,mBACE,wCAEI,KAAC,WAAD,EAAa,KAAK,CAAEF,MAAM,CAACC,KAA3B,EAFJ,cAIE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,CAA4B,EAAE,CAAE,CAACE,EAAE,CAAC,CAAJ,CAAhC,wBACY,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,EADZ,cAEY,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,wBACI,KAAC,aAAD,IADJ,cAEI,KAAC,MAAD,EAAS,SAAS,CAAET,IAApB,CACN,EAAE,CAAE,aADE,CAEN,OAAO,CAAC,WAFF,CAGN,IAAI,CAAC,OAHC,CAIN,SAAS,KAJH,uBAFJ,GAFZ,GAJF,GADF,CAwBD","sourcesContent":["import { Grid, Button } from '@mui/material';\r\nimport BasketSummary from './BasketSummary';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport { useAppSelector } from '../../app/store/configureStore';\r\nimport BasketTable from './BasketTable';\r\n\r\nexport default function BasketPage() {\r\n\r\n    // const [loading, setLoading] = useState(true);\r\n    // const [basket, setBasket] = useState<Basket|null>(null);\r\n    //  useEffect(() => {\r\n\r\n    //   agent.Basket.get().then(basket=>setBasket(basket))\r\n    //   .catch(error=>console.log(error))\r\n    //   .finally(()=>setLoading(false))\r\n    // }, [])\r\n    \r\n    // if(loading)return<Loader message=\"Loading basket....!!!\" />\r\n\r\n      // const {basket,setBasket,removeItem}=useSouqContext();\r\n\r\n      const {basket}=useAppSelector(state=>state.basket); // redux\r\n\r\n\r\n      //NEW TYPES FOR VARIABLES IMPORTANT ***ALI_23_04_15\r\n      // const [status, setStatus] = useState({\r\n      //   loading:false,\r\n      //   name:''\r\n\r\n      // });\r\n      \r\n      \r\n    //   const handleAddItemusingContext=(productId:number,name:string)=>{\r\n    //     setStatus({loading:true,name:name});\r\n\r\n    //     agent.Basket.addItem(productId).then(basket=>dispatch( setBasket(basket)))\r\n    //     .catch(error=>console.log(error))\r\n    //     .finally(()=>setStatus({loading:false,name:''}));\r\n\r\n\r\n    // }\r\n    \r\n    // const handleRemoveItemusingContext=(productId:number,quantity=1,name:string)=>{\r\n    //   setStatus({loading:true,name:name});\r\n    //   agent.Basket.deleteItem(productId,quantity)\r\n    //   .then(()=>dispatch( removeItem({productId,quantity})))\r\n    //   .catch(error=>console.log(error))\r\n    //   .finally(()=>setStatus({loading:false,name:''}));\r\n    // }\r\n\r\n\r\n  //   const handleAddItem=(productId:number)=>{\r\n      \r\n  //     dispatch( addBasketItemAsync({productId:productId}))\r\n\r\n\r\n\r\n  // }\r\n  //   const handleRemoveItem=(productId:number,quantity=1,name:string)=>{\r\n  //     dispatch( removeBasketItemAsync({productId:productId,quantity:quantity,name}))\r\n\r\n  //   }\r\n   \r\n\r\n    if(!basket || basket.items.length===0)\r\n    return  <Navigate to=\"../\" />\r\n    // <Typography sx={{mt:10}} variant=\"h3\" color=\"initial\"> Basket is empty</Typography>\r\n\r\n\r\n  return (\r\n    <>\r\n        {/* <Typography sx={{mt:10}}  variant=\"h4\" color=\"initial\"> Buyer Id is :{basket.buyerId}</Typography> */}\r\n        <BasketTable items={basket.items} />\r\n       \r\n      <Grid container spacing={0} sx={{mt:1}}>\r\n                  <Grid item xs={6}  />\r\n                  <Grid item xs={6}>\r\n                      <BasketSummary/>\r\n                      <Button  component={Link}\r\n                to={'../checkout'}\r\n                variant='contained'\r\n                size='large'\r\n                fullWidth>\r\n                  Check Out\r\n\r\n                      </Button>\r\n                  \r\n                  </Grid>\r\n                \r\n      </Grid>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}