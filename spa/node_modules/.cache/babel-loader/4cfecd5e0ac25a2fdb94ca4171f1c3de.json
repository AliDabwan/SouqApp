{"ast":null,"code":"import{Remove,Add,Delete}from\"@mui/icons-material\";import{LoadingButton}from\"@mui/lab\";import{TableContainer,Paper,Table,TableHead,TableRow,TableCell,TableBody,Box}from\"@mui/material\";import{Link}from\"react-router-dom\";import{currencyFormat}from\"../../app/helper/helper\";import{useAppSelector,useAppDispatch}from\"../../app/store/configureStore\";import{addBasketItemAsync,removeBasketItemAsync}from\"./basketSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function BasketTable(_ref){var items=_ref.items,_ref$isBasket=_ref.isBasket,isBasket=_ref$isBasket===void 0?true:_ref$isBasket;var _useAppSelector=useAppSelector(function(state){return state.basket;}),status=_useAppSelector.status;// redux\nvar dispatch=useAppDispatch();var handleAddItem=function handleAddItem(productId){dispatch(addBasketItemAsync({productId:productId}));};var handleRemoveItem=function handleRemoveItem(productId){var quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var name=arguments.length>2?arguments[2]:undefined;dispatch(removeBasketItemAsync({productId:productId,quantity:quantity,name:name}));};return/*#__PURE__*/_jsx(TableContainer,{sx:{mt:10},component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Quantity\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"SubTotal\"}),isBasket&&/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Delete\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:items.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsxs(Box,{sx:{color:'inherit',textDecoration:'inherit'},component:Link,to:\"../catalog/\".concat(row.productId),display:'flex',alignItems:'center',children:[/*#__PURE__*/_jsx(\"img\",{src:row.pictureUrl,alt:row.name,style:{height:50,marginRight:20}}),/*#__PURE__*/_jsx(\"span\",{children:row.name})]})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:currencyFormat(row.price)}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[isBasket&&/*#__PURE__*/_jsx(LoadingButton// loading={status.loading&&status.name==='rem'+row.productId}\n,{loading:status==='pendingRemoveItem'+row.productId+'rem',onClick:function onClick(){return handleRemoveItem(row.productId,1,'rem');},color:\"error\",sx:{fontWeight:'bolder'},size:\"small\",children:/*#__PURE__*/_jsx(Remove,{})}),row.quantity,isBasket&&/*#__PURE__*/_jsx(LoadingButton// loading={status.loading&&status.name==='add'+row.productId}\n,{loading:status==='pendingAddItem'+row.productId,onClick:function onClick(){return handleAddItem(row.productId);},color:\"secondary\",sx:{fontWeight:'bolder'},size:\"small\",children:/*#__PURE__*/_jsx(Add,{})})]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:currencyFormat(row.price*row.quantity)}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:isBasket&&/*#__PURE__*/_jsx(LoadingButton//  loading={status.loading&&status.name==='del'+row.productId}\n,{loading:status==='pendingRemoveItem'+row.productId+'del',onClick:function onClick(){return handleRemoveItem(row.productId,row.quantity,'del');},color:\"error\",children:/*#__PURE__*/_jsx(Delete,{})})})]},row.productId);})})]})});}","map":{"version":3,"sources":["D:/Learn/react/SouqApp/spa/src/features/basket/BasketTable.tsx"],"names":["Remove","Add","Delete","LoadingButton","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","Box","Link","currencyFormat","useAppSelector","useAppDispatch","addBasketItemAsync","removeBasketItemAsync","BasketTable","items","isBasket","state","basket","status","dispatch","handleAddItem","productId","handleRemoveItem","quantity","name","mt","minWidth","map","row","border","color","textDecoration","pictureUrl","height","marginRight","price","fontWeight"],"mappings":"AAAA,OAASA,MAAT,CAAiBC,GAAjB,CAAsBC,MAAtB,KAAoC,qBAApC,CACA,OAASC,aAAT,KAA8B,UAA9B,CACA,OAASC,cAAT,CAAyBC,KAAzB,CAAgCC,KAAhC,CAAuCC,SAAvC,CAAkDC,QAAlD,CAA4DC,SAA5D,CAAuEC,SAAvE,CAAkFC,GAAlF,KAA6F,eAA7F,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,yBAA/B,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,gCAA/C,CAEA,OAASC,kBAAT,CAA6BC,qBAA7B,KAA0D,eAA1D,C,wFAQA,cAAe,SAASC,CAAAA,WAAT,MAAkD,IAA5BC,CAAAA,KAA4B,MAA5BA,KAA4B,oBAAtBC,QAAsB,CAAtBA,QAAsB,wBAAb,IAAa,eAE7D,oBAAeN,cAAc,CAAC,SAAAO,KAAK,QAAEA,CAAAA,KAAK,CAACC,MAAR,EAAN,CAA7B,CAAOC,MAAP,iBAAOA,MAAP,CAAoD;AACpD,GAAMC,CAAAA,QAAQ,CAACT,cAAc,EAA7B,CACA,GAAMU,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAACC,SAAD,CAAoB,CAEpCF,QAAQ,CAAER,kBAAkB,CAAC,CAACU,SAAS,CAACA,SAAX,CAAD,CAApB,CAAR,CAIH,CAND,CAOE,GAAMC,CAAAA,gBAAgB,CAAC,QAAjBA,CAAAA,gBAAiB,CAACD,SAAD,CAA2C,IAAzBE,CAAAA,QAAyB,2DAAhB,CAAgB,IAAdC,CAAAA,IAAc,2CAChEL,QAAQ,CAAEP,qBAAqB,CAAC,CAACS,SAAS,CAACA,SAAX,CAAqBE,QAAQ,CAACA,QAA9B,CAAuCC,IAAI,CAAJA,IAAvC,CAAD,CAAvB,CAAR,CAED,CAHD,CAIJ,mBACE,KAAC,cAAD,EAAiB,EAAE,CAAE,CAACC,EAAE,CAAC,EAAJ,CAArB,CAA+B,SAAS,CAAEzB,KAA1C,uBACA,MAAC,KAAD,EAAO,EAAE,CAAE,CAAE0B,QAAQ,CAAE,GAAZ,CAAX,wBACE,KAAC,SAAD,wBACE,MAAC,QAAD,yBACE,KAAC,SAAD,sBADF,cAEE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,mBAFF,cAGE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,sBAHF,cAIE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,sBAJF,CAKGX,QAAQ,eACC,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,oBANZ,GADF,EADF,cAaE,KAAC,SAAD,WACGD,KAAK,CAACa,GAAN,CAAU,SAACC,GAAD,qBACT,MAAC,QAAD,EAEE,EAAE,CAAE,CAAE,mCAAoC,CAAEC,MAAM,CAAE,CAAV,CAAtC,CAFN,wBAIE,KAAC,SAAD,EAAW,SAAS,CAAC,IAArB,CAA0B,KAAK,CAAC,KAAhC,uBACE,MAAC,GAAD,EACA,EAAE,CAAE,CAACC,KAAK,CAAC,SAAP,CAAiBC,cAAc,CAAC,SAAhC,CADJ,CAEA,SAAS,CAAExB,IAFX,CAGA,EAAE,sBAAgBqB,GAAG,CAACP,SAApB,CAHF,CAIC,OAAO,CAAE,MAJV,CAKC,UAAU,CAAE,QALb,wBAME,YAAK,GAAG,CAAEO,GAAG,CAACI,UAAd,CAA0B,GAAG,CAAEJ,GAAG,CAACJ,IAAnC,CAAyC,KAAK,CAAE,CAACS,MAAM,CAAC,EAAR,CAAWC,WAAW,CAAC,EAAvB,CAAhD,EANF,cAOE,sBAAON,GAAG,CAACJ,IAAX,EAPF,GADF,EAJF,cAgBE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UAEIhB,cAAc,CAACoB,GAAG,CAACO,KAAL,CAFlB,EAhBF,cAyBE,MAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,WACCpB,QAAQ,eACT,KAAC,aACC;AADF,EAEE,OAAO,CAAGG,MAAM,GAAG,oBAAoBU,GAAG,CAACP,SAAxB,CAAkC,KAFvD,CAIE,OAAO,CAAE,yBAAIC,CAAAA,gBAAgB,CAACM,GAAG,CAACP,SAAL,CAAe,CAAf,CAAiB,KAAjB,CAApB,EAJX,CAKE,KAAK,CAAC,OALR,CAME,EAAE,CAAE,CAAEe,UAAU,CAAE,QAAd,CANN,CAOE,IAAI,CAAC,OAPP,uBAQI,KAAC,MAAD,IARJ,EAFA,CAaGR,GAAG,CAACL,QAbP,CAcGR,QAAQ,eACT,KAAC,aACD;AADA,EAEA,OAAO,CAAGG,MAAM,GAAG,iBAAiBU,GAAG,CAACP,SAFxC,CAIA,OAAO,CAAE,yBAAID,CAAAA,aAAa,CAACQ,GAAG,CAACP,SAAL,CAAjB,EAJT,CAKA,KAAK,CAAC,WALN,CAMA,EAAE,CAAE,CAAEe,UAAU,CAAE,QAAd,CANJ,CAOA,IAAI,CAAC,OAPL,uBAQE,KAAC,GAAD,IARF,EAfF,GAzBF,cAuDE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UAA2B5B,cAAc,CAAEoB,GAAG,CAACO,KAAJ,CAAYP,GAAG,CAACL,QAAlB,CAAzC,EAvDF,cAwDE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UACCR,QAAQ,eACT,KAAC,aACC;AADF,EAEE,OAAO,CAAGG,MAAM,GAAG,oBAAoBU,GAAG,CAACP,SAAxB,CAAkC,KAFvD,CAIG,OAAO,CAAE,yBAAIC,CAAAA,gBAAgB,CAACM,GAAG,CAACP,SAAL,CAAeO,GAAG,CAACL,QAAnB,CAA4B,KAA5B,CAApB,EAJZ,CAKI,KAAK,CAAC,OALV,uBAMI,KAAC,MAAD,IANJ,EAFA,EAxDF,GACOK,GAAG,CAACP,SADX,CADS,EAAV,CADH,EAbF,GADA,EADF,CA2FD","sourcesContent":["import { Remove, Add, Delete } from \"@mui/icons-material\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { TableContainer, Paper, Table, TableHead, TableRow, TableCell, TableBody, Box } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { currencyFormat } from \"../../app/helper/helper\";\r\nimport { useAppSelector, useAppDispatch } from \"../../app/store/configureStore\";\r\nimport { BasketItem } from \"../../app/models/basket\";\r\nimport { addBasketItemAsync, removeBasketItemAsync } from \"./basketSlice\";\r\n\r\n\r\n\r\ntype Props={\r\n    items:BasketItem[]\r\n    isBasket?:boolean\r\n}\r\nexport default function BasketTable({items,isBasket=true}:Props) {\r\n    \r\n    const {status}=useAppSelector(state=>state.basket); // redux\r\n    const dispatch=useAppDispatch();\r\n    const handleAddItem=(productId:number)=>{\r\n      \r\n        dispatch( addBasketItemAsync({productId:productId}))\r\n  \r\n  \r\n  \r\n    }\r\n      const handleRemoveItem=(productId:number,quantity=1,name:string)=>{\r\n        dispatch( removeBasketItemAsync({productId:productId,quantity:quantity,name}))\r\n  \r\n      }\r\n  return (\r\n    <TableContainer  sx={{mt:10}}  component={Paper}>\r\n    <Table sx={{ minWidth: 650 }} >\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell>Product</TableCell>\r\n          <TableCell align=\"center\">Price</TableCell>\r\n          <TableCell align=\"center\">Quantity</TableCell>\r\n          <TableCell align=\"center\">SubTotal</TableCell>\r\n          {isBasket && \r\n                    <TableCell align=\"center\">Delete</TableCell>\r\n\r\n          }\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {items.map((row) => (\r\n          <TableRow\r\n            key={row.productId}\r\n            sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n          >\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              <Box\r\n              sx={{color:'inherit',textDecoration:'inherit'}}\r\n              component={Link}\r\n              to={`../catalog/${row.productId}`}\r\n               display={'flex'}\r\n               alignItems={'center'}>\r\n                <img src={row.pictureUrl} alt={row.name} style={{height:50,marginRight:20}} />\r\n                <span>{row.name}</span>\r\n\r\n              </Box>\r\n            </TableCell>\r\n            <TableCell align=\"center\">\r\n              {\r\n                currencyFormat(row.price)\r\n            }\r\n\r\n           \r\n              </TableCell>\r\n         \r\n              \r\n            <TableCell align=\"center\">\r\n            {isBasket && \r\n            <LoadingButton \r\n              // loading={status.loading&&status.name==='rem'+row.productId}\r\n              loading={(status==='pendingRemoveItem'+row.productId+'rem')}\r\n\r\n              onClick={()=>handleRemoveItem(row.productId,1,'rem')}\r\n              color='error'\r\n              sx={{ fontWeight: 'bolder' }} \r\n              size=\"small\"> \r\n                <Remove/>\r\n                </LoadingButton>\r\n                }\r\n              {row.quantity}\r\n              {isBasket && \r\n              <LoadingButton \r\n              // loading={status.loading&&status.name==='add'+row.productId}\r\n              loading={(status==='pendingAddItem'+row.productId)}\r\n\r\n              onClick={()=>handleAddItem(row.productId)}\r\n              color='secondary'\r\n              sx={{ fontWeight: 'bolder' }} \r\n              size=\"small\">\r\n                <Add/>\r\n                </LoadingButton>\r\n                    }\r\n            \r\n            </TableCell>\r\n            \r\n                \r\n            <TableCell align=\"center\">{currencyFormat((row.price * row.quantity))}</TableCell>\r\n            <TableCell align=\"center\">\r\n            {isBasket && \r\n            <LoadingButton \r\n              //  loading={status.loading&&status.name==='del'+row.productId}\r\n              loading={(status==='pendingRemoveItem'+row.productId+'del')}\r\n\r\n               onClick={()=>handleRemoveItem(row.productId,row.quantity,'del')}\r\n                color='error'>\r\n                <Delete/>\r\n                </LoadingButton>\r\n\r\n            }\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </Table>\r\n  </TableContainer>  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}