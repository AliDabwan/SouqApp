{"ast":null,"code":"import{TableContainer,Paper,Table,TableBody,TableRow,TableCell}from\"@mui/material\";import{currencyFormat}from\"../../app/helper/helper\";import{useAppSelector}from\"../../app/store/configureStore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function BasketSummary(_ref){var _basket$items$reduce,_basket$items$reduce2;var subtotal=_ref.subtotal,itemCounts=_ref.itemCounts;// const {basket}=useSouqContext();\nvar _useAppSelector=useAppSelector(function(state){return state.basket;}),basket=_useAppSelector.basket;// redux\n// ??0 if null return 0\nif(subtotal===undefined)subtotal=(_basket$items$reduce=basket===null||basket===void 0?void 0:basket.items.reduce(function(sum,item){return sum+item.quantity*item.price;},0))!==null&&_basket$items$reduce!==void 0?_basket$items$reduce:0;//  toast.success('sub is :'+subtotal);\nvar deliveryFee=subtotal>100000||subtotal===0?0:2000;// toast.success('deliveryFee is :'+deliveryFee);\nif(itemCounts===undefined)itemCounts=(_basket$items$reduce2=basket===null||basket===void 0?void 0:basket.items.reduce(function(count,item){return count+item.quantity;},0))!==null&&_basket$items$reduce2!==void 0?_basket$items$reduce2:0;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,variant:'outlined',children:/*#__PURE__*/_jsx(Table,{children:/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{colSpan:2,children:\"Total Qty\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:itemCounts})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{colSpan:2,children:\"Subtotal\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:currencyFormat(subtotal)})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{colSpan:2,children:\"Delivery fee*\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:currencyFormat(deliveryFee)})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{colSpan:2,children:\"Total\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:currencyFormat(subtotal+deliveryFee)})]}),/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"span\",{style:{fontStyle:'italic'},children:\"*Orders over 1000 USD qualify for free delivery\"})})})]})})})});}","map":{"version":3,"sources":["D:/Learn/react/SouqApp/spa/src/features/basket/BasketSummary.tsx"],"names":["TableContainer","Paper","Table","TableBody","TableRow","TableCell","currencyFormat","useAppSelector","BasketSummary","subtotal","itemCounts","state","basket","undefined","items","reduce","sum","item","quantity","price","deliveryFee","count","fontStyle"],"mappings":"AAAA,OAASA,cAAT,CAAyBC,KAAzB,CAAgCC,KAAhC,CAAuCC,SAAvC,CAAkDC,QAAlD,CAA4DC,SAA5D,KAA6E,eAA7E,CACA,OAASC,cAAT,KAA+B,yBAA/B,CACA,OAASC,cAAT,KAA+B,gCAA/B,C,6IAOA,cAAe,SAASC,CAAAA,aAAT,MAAoD,mDAA5BC,CAAAA,QAA4B,MAA5BA,QAA4B,CAAnBC,UAAmB,MAAnBA,UAAmB,CAC/D;AACA,oBAAeH,cAAc,CAAC,SAAAI,KAAK,QAAEA,CAAAA,KAAK,CAACC,MAAR,EAAN,CAA7B,CAAOA,MAAP,iBAAOA,MAAP,CAAoD;AAGpD;AACA,GAAGH,QAAQ,GAAGI,SAAd,CACCJ,QAAQ,uBAAGG,MAAH,SAAGA,MAAH,iBAAGA,MAAM,CAAEE,KAAR,CAAcC,MAAd,CAAqB,SAACC,GAAD,CAAKC,IAAL,QAAYD,CAAAA,GAAG,CAAEC,IAAI,CAACC,QAAL,CAAcD,IAAI,CAACE,KAApC,EAArB,CAAgE,CAAhE,CAAH,6DAAuE,CAA/E,CACD;AACA,GAAMC,CAAAA,WAAW,CAAIX,QAAQ,CAAC,MAAT,EAAmBA,QAAQ,GAAG,CAA/B,CAAmC,CAAnC,CAAqC,IAAzD,CACA;AAEA,GAAGC,UAAU,GAAGG,SAAhB,CACCH,UAAU,wBAACE,MAAD,SAACA,MAAD,iBAACA,MAAM,CAAEE,KAAR,CAAcC,MAAd,CAAqB,SAACM,KAAD,CAAOJ,IAAP,QAAcI,CAAAA,KAAK,CAACJ,IAAI,CAACC,QAAzB,EAArB,CAAuD,CAAvD,CAAD,+DAA4D,CAAtE,CAED,mBACI,sCACI,KAAC,cAAD,EAAgB,SAAS,CAAEjB,KAA3B,CAAkC,OAAO,CAAE,UAA3C,uBACI,KAAC,KAAD,wBACI,MAAC,SAAD,yBACA,MAAC,QAAD,yBACQ,KAAC,SAAD,EAAW,OAAO,CAAE,CAApB,uBADR,cAEQ,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UAA0BS,UAA1B,EAFR,GADA,cAKI,MAAC,QAAD,yBACI,KAAC,SAAD,EAAW,OAAO,CAAE,CAApB,sBADJ,cAEI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UAA0BJ,cAAc,CAACG,QAAD,CAAxC,EAFJ,GALJ,cAkBI,MAAC,QAAD,yBACI,KAAC,SAAD,EAAW,OAAO,CAAE,CAApB,2BADJ,cAEI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UAA2BH,cAAc,CAACc,WAAD,CAAzC,EAFJ,GAlBJ,cAuBI,MAAC,QAAD,yBACI,KAAC,SAAD,EAAW,OAAO,CAAE,CAApB,mBADJ,cAEI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UAA0Bd,cAAc,CAACG,QAAQ,CAAGW,WAAZ,CAAxC,EAFJ,GAvBJ,cA2BI,KAAC,QAAD,wBACI,KAAC,SAAD,wBACI,aAAM,KAAK,CAAE,CAAEE,SAAS,CAAE,QAAb,CAAb,6DADJ,EADJ,EA3BJ,GADJ,EADJ,EADJ,EADJ,CA0CH","sourcesContent":["import { TableContainer, Paper, Table, TableBody, TableRow, TableCell } from \"@mui/material\";\r\nimport { currencyFormat } from \"../../app/helper/helper\";\r\nimport { useAppSelector } from \"../../app/store/configureStore\";\r\n\r\ntype Props={\r\n    subtotal?:number,\r\n    itemCounts?:number\r\n\r\n}\r\nexport default function BasketSummary({subtotal,itemCounts}:Props) {\r\n    // const {basket}=useSouqContext();\r\n    const {basket}=useAppSelector(state=>state.basket); // redux\r\n\r\n\r\n    // ??0 if null return 0\r\n    if(subtotal===undefined)\r\n     subtotal = basket?.items.reduce((sum,item)=>sum+(item.quantity*item.price),0)??0;\r\n    //  toast.success('sub is :'+subtotal);\r\n    const deliveryFee = (subtotal>100000 || subtotal===0) ?0:2000;\r\n    // toast.success('deliveryFee is :'+deliveryFee);\r\n\r\n    if(itemCounts===undefined)\r\n     itemCounts=basket?.items.reduce((count,item)=>count+item.quantity,0)??0;\r\n\r\n    return (\r\n        <>\r\n            <TableContainer component={Paper} variant={'outlined'}>\r\n                <Table>\r\n                    <TableBody>\r\n                    <TableRow>\r\n                            <TableCell colSpan={2}>Total Qty</TableCell>\r\n                            <TableCell align=\"right\">{itemCounts}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Subtotal</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(subtotal)}</TableCell>\r\n                        </TableRow>\r\n                        {/* <TableRow>\r\n                            <TableCell colSpan={2}>reaTotall</TableCell>\r\n                            <TableCell align=\"right\">{subtotal}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>realFee</TableCell>\r\n                            <TableCell align=\"right\">{deliveryFee}</TableCell>\r\n                        </TableRow> */}\r\n\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Delivery fee*</TableCell>\r\n                            <TableCell align=\"right\">{ currencyFormat(deliveryFee)}</TableCell>\r\n                        </TableRow>\r\n                     \r\n                        <TableRow>\r\n                            <TableCell colSpan={2}>Total</TableCell>\r\n                            <TableCell align=\"right\">{currencyFormat(subtotal + deliveryFee)}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>\r\n                                <span style={{ fontStyle: 'italic' }}>*Orders over 1000 USD qualify for free delivery</span>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n           \r\n        </> \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}