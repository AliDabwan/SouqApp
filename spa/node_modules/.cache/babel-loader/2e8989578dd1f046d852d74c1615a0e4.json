{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learn\\\\react\\\\SouqApp\\\\spa\\\\src\\\\features\\\\admin\\\\ProductForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Paper, Typography, Grid, Button } from \"@mui/material\";\nimport { useForm } from \"react-hook-form\";\nimport AppTextInput from \"../../app/components/AppTextInput\";\nimport { useEffect } from \"react\";\nimport AppSelectList from \"../../app/components/AppSelectList\";\nimport useProducts from \"../../app/hooks/useProducts\";\nimport AppDropZone from \"../../app/components/AppDropZone\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { productValidationSchema } from \"./productValidation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductForm(_ref) {\n  _s();\n\n  let {\n    product,\n    cancelEdit\n  } = _ref;\n  const {\n    control,\n    reset,\n    handleSubmit,\n    watch\n  } = useForm({\n    resolver: yupResolver(productValidationSchema)\n  });\n  const {\n    brands,\n    types\n  } = useProducts();\n  const watchFile = watch('file', null);\n  useEffect(() => {\n    if (product) reset(product);\n  }, [product, reset]);\n\n  const handleSubmitData = data => {\n    console.log(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: Paper,\n    sx: {\n      px: 4,\n      py: 2,\n      mt: 10,\n      mx: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      sx: {\n        mb: 4\n      },\n      children: \"Product Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(handleSubmitData),\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(AppTextInput, {\n            control: control,\n            name: \"name\",\n            label: \"Product name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(AppSelectList, {\n            control: control,\n            items: brands,\n            name: \"brand\",\n            label: \"Brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(AppSelectList, {\n            control: control,\n            items: types,\n            name: \"type\",\n            label: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(AppTextInput, {\n            control: control,\n            type: \"number\",\n            name: \"price\",\n            label: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(AppTextInput, {\n            control: control,\n            type: \"number\",\n            name: \"quantityInStock\",\n            label: \"Quantity in Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(AppTextInput, {\n            control: control,\n            multiline: true,\n            rows: 3,\n            name: \"description\",\n            label: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(AppDropZone, {\n              control: control,\n              name: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), watchFile ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: watchFile.preview,\n              alt: \"preview\",\n              style: {\n                marginLeft: 80,\n                maxHeight: 150\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product === null || product === void 0 ? void 0 : product.pictureUrl,\n              alt: product === null || product === void 0 ? void 0 : product.name,\n              style: {\n                marginLeft: 80,\n                maxHeight: 150\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: cancelEdit,\n          variant: \"contained\",\n          color: \"inherit\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductForm, \"yCuhHT8lgwPkaqUsGDVQ8jCl//4=\", false, function () {\n  return [useForm, useProducts];\n});\n\n_c = ProductForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"sources":["D:/Learn/react/SouqApp/spa/src/features/admin/ProductForm.tsx"],"names":["Box","Paper","Typography","Grid","Button","useForm","AppTextInput","useEffect","AppSelectList","useProducts","AppDropZone","yupResolver","productValidationSchema","ProductForm","product","cancelEdit","control","reset","handleSubmit","watch","resolver","brands","types","watchFile","handleSubmitData","data","console","log","px","py","mt","mx","mb","preview","marginLeft","maxHeight","pictureUrl","name"],"mappings":"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","sourcesContent":["import { Box, Paper, Typography, Grid, Button } from \"@mui/material\";\r\nimport { FieldValues, useForm } from \"react-hook-form\";\r\nimport AppTextInput from \"../../app/components/AppTextInput\";\r\nimport { Product } from \"../../app/models/product\";\r\nimport { useEffect } from \"react\";\r\nimport AppSelectList from \"../../app/components/AppSelectList\";\r\nimport useProducts from \"../../app/hooks/useProducts\";\r\nimport AppDropZone from \"../../app/components/AppDropZone\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { productValidationSchema } from \"./productValidation\";\r\n\r\n\r\ntype Props={\r\n    product?:Product,\r\n    cancelEdit:()=>void\r\n}\r\n\r\nexport default function ProductForm({product,cancelEdit}:Props) {\r\n    const { control ,reset,handleSubmit,watch} = useForm({\r\n        resolver:yupResolver<any>(productValidationSchema)\r\n    });\r\n    const {brands,types}=useProducts();\r\n\r\n    const watchFile=watch('file',null);\r\n\r\n    useEffect(()=>{\r\n        if(product)reset(product)\r\n    },[product,reset])\r\n\r\n    const handleSubmitData=(data:FieldValues)=>{\r\n        console.log(data);\r\n    }\r\n    return (\r\n        <Box component={Paper} sx={{ px: 4, py: 2, mt: 10, mx: 2 }}>\r\n            <Typography variant=\"h4\" gutterBottom sx={{ mb: 4 }}>\r\n                Product Details\r\n            </Typography>\r\n            <form onSubmit={handleSubmit(handleSubmitData)}>\r\n\r\n           \r\n            <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={12}>\r\n                    <AppTextInput control={control} name='name' label='Product name' />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    <AppSelectList control={control} items={brands}  name='brand' label='Brand' />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    <AppSelectList control={control} items={types}  name='type' label='Type' />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    <AppTextInput control={control} type=\"number\" name='price' label='Price' />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                    <AppTextInput control={control} type=\"number\" name='quantityInStock' label='Quantity in Stock' />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <AppTextInput control={control} multiline rows={3} name='description' label='Description' />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Box display='flex'>\r\n                    <AppDropZone control={control} name='file' />\r\n                    {\r\n                        watchFile?(\r\n                            <img src={watchFile.preview} alt='preview' style={{marginLeft:80,maxHeight:150}}/>\r\n                        ):(\r\n                            <img src={product?.pictureUrl} alt={product?.name} style={{marginLeft:80,maxHeight:150}}/>\r\n                        )\r\n                    }\r\n\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n            <Box display='flex' justifyContent='space-between' sx={{ mt: 3 }}>\r\n                <Button onClick={cancelEdit} variant='contained' color='inherit'>Cancel</Button>\r\n                <Button type=\"submit\" variant='contained' color='primary'>Submit</Button>\r\n            </Box>\r\n            </form>\r\n        </Box>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}